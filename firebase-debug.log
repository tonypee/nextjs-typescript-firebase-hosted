[debug] [2017-11-28T01:33:03.566Z] ----------------------------------------------------------------------
[debug] [2017-11-28T01:33:03.568Z] Command:       /Users/tonypolinelli/.nvm/versions/node/v8.9.1/bin/node /usr/local/bin/firebase deploy
[debug] [2017-11-28T01:33:03.568Z] CLI Version:   3.15.3
[debug] [2017-11-28T01:33:03.568Z] Platform:      darwin
[debug] [2017-11-28T01:33:03.568Z] Node Version:  v8.9.1
[debug] [2017-11-28T01:33:03.569Z] Time:          Tue Nov 28 2017 12:33:03 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:03.569Z] ----------------------------------------------------------------------
[debug] 
[debug] [2017-11-28T01:33:03.577Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2017-11-28T01:33:03.578Z] > authorizing via signed-in user
[debug] [2017-11-28T01:33:03.579Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/firestore-typescript-example  
 Tue Nov 28 2017 12:33:03 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:05.738Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:05.739Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/firestore-typescript-example/tokens  
 Tue Nov 28 2017 12:33:05 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:06.941Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'firestore-typescript-example'...
[info] 
[info] i  deploying functions, hosting
[debug] [2017-11-28T01:33:09.492Z] > [functions] package.json contents: {
  "name": "nextjs-typescript-firebase-hosting",
  "version": "1.0.0",
  "author": "Tony Polinelli",
  "license": "MIT",
  "description": "Next.js / Typescript / Firebase, hosted on cloud functions",
  "repository": "https://github.com/tonypee/nextjs-typescript-firebase-hosted.git",
  "scripts": {
    "install": "mkdir -p dist dist/public dist/pages dist/static",
    "predeploy": "yarn build && cd dist && yarn",
    "serve": "firebase serve",
    "deploy": "firebase deploy",
    "dev": "concurrently \"yarn watch-static\" \"tsc --watch\" \"next ./dist\"",
    "build": "yarn clean && tsc && next build ./dist && cp package.json dist/package.json && yarn create-public",
    "start": "next start ./dist",
    "clean": "rm -rf dist/ && yarn install",
    "watch-static": "watch-run -i -p 'src/static/**' rm -rf dist/static && mkdir dist/static && cp src/static/* dist/static",
    "create-public": "mkdir dist/public/static && cp src/static/* dist/public/static && echo \"not used\" > dist/public/__placeholder.html"
  },
  "dependencies": {
    "babel-runtime": "^6.26.0",
    "firebase-admin": "^5.0.1",
    "firebase-functions": "^0.7.3",
    "next": "beta",
    "react": "^16.0.0",
    "react-dom": "^16.0.0",
    "watch-run": "^1.2.5"
  },
  "devDependencies": {
    "@types/node": "^8.0.53",
    "@types/react": "^16.0.25",
    "@types/react-dom": "^16.0.3",
    "concurrently": "^3.5.1",
    "typescript": "2.6.1"
  }
}
[info] i  functions: ensuring necessary APIs are enabled...
[info] i  runtimeconfig: ensuring necessary APIs are enabled...
[debug] [2017-11-28T01:33:09.493Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/firestore-typescript-example?view=CONSUMER_VIEW  
 Tue Nov 28 2017 12:33:09 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:09.493Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/firestore-typescript-example?view=CONSUMER_VIEW  
 Tue Nov 28 2017 12:33:09 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:11.345Z] <<< HTTP RESPONSE 200
[info] ✔  runtimeconfig: all necessary APIs are enabled
[debug] [2017-11-28T01:33:11.372Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2017-11-28T01:33:11.373Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/firestore-typescript-example  
 Tue Nov 28 2017 12:33:11 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:11.373Z] >>> HTTP REQUEST GET https://apikeys.googleapis.com/v1/projects/firestore-typescript-example/apiKeys  
 Tue Nov 28 2017 12:33:11 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:12.983Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:12.984Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing dist directory for uploading...
[debug] [2017-11-28T01:33:23.139Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/firestore-typescript-example/configs  
 Tue Nov 28 2017 12:33:23 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:23.692Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged dist (231.79 KB) for uploading
[debug] [2017-11-28T01:33:27.132Z] >>> HTTP REQUEST GET https://www.googleapis.com/storage/v1/b/staging.firestore-typescript-example.appspot.com  
 Tue Nov 28 2017 12:33:27 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:27.758Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:27.758Z] >>> HTTP REQUEST POST https://www.googleapis.com/upload/storage/v1/b/staging.firestore-typescript-example.appspot.com/o?uploadType=media&name=firebase-functions-source ReadStream {
  _readableState: 
   ReadableState {
     objectMode: false,
     highWaterMark: 65536,
     buffer: BufferList { head: [Object], tail: [Object], length: 1 },
     length: 65536,
     pipes: null,
     pipesCount: 0,
     flowing: null,
     ended: false,
     endEmitted: false,
     reading: false,
     sync: false,
     needReadable: false,
     emittedReadable: true,
     readableListening: false,
     resumeScheduled: false,
     destroyed: false,
     defaultEncoding: 'utf8',
     awaitDrain: 0,
     readingMore: false,
     decoder: null,
     encoding: null },
  readable: true,
  domain: null,
  _events: { end: [Function] },
  _eventsCount: 1,
  _maxListeners: undefined,
  path: '/var/folders/bd/tpmdx_8d38xgc8vg736z7djc0000gn/T/firebase-functions-72033u7ShYfDZGOhU.zip',
  fd: 19,
  flags: 'r',
  mode: 438,
  start: undefined,
  end: undefined,
  autoClose: true,
  pos: undefined,
  bytesRead: 65536 } 
 Tue Nov 28 2017 12:33:27 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:28.752Z] <<< HTTP RESPONSE 200
[info] ✔  functions: dist folder uploaded successfully
[info] i  hosting: preparing dist/public directory for upload...
[warn] ⚠  Warning: Public directory does not contain index.html
[debug] [2017-11-28T01:33:28.765Z] >>> HTTP REQUEST PUT https://deploy.firebase.com/v1/hosting/firestore-typescript-example/uploads/-L--FPwCUPgA4xMHKIH_?fileCount=2&message=  
 Tue Nov 28 2017 12:33:28 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:31.698Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:31.698Z] [hosting] .tgz uploaded successfully, waiting for extraction
[info] ✔  hosting: 2 files uploaded successfully
[debug] [2017-11-28T01:33:32.953Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/firestore-typescript-example/locations/us-central1/functions  
 Tue Nov 28 2017 12:33:32 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:34.384Z] <<< HTTP RESPONSE 200
[info] i  functions: updating function next...
[debug] [2017-11-28T01:33:34.386Z] Trigger is: 
[info] i  functions: updating function example...
[debug] [2017-11-28T01:33:34.386Z] Trigger is: 
[debug] [2017-11-28T01:33:34.387Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/firestore-typescript-example/locations/us-central1/functions/next { sourceArchiveUrl: 'gs://staging.firestore-typescript-example.appspot.com/firebase-functions-source',
  name: 'projects/firestore-typescript-example/locations/us-central1/functions/next',
  entryPoint: 'next',
  timeout: undefined,
  availableMemoryMb: 256,
  failurePolicy: undefined,
  labels: { 'deployment-tool': 'cli-firebase' },
  httpsTrigger: {} } 
 Tue Nov 28 2017 12:33:34 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:34.388Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/firestore-typescript-example/locations/us-central1/functions/example { sourceArchiveUrl: 'gs://staging.firestore-typescript-example.appspot.com/firebase-functions-source',
  name: 'projects/firestore-typescript-example/locations/us-central1/functions/example',
  entryPoint: 'example',
  timeout: undefined,
  availableMemoryMb: 256,
  failurePolicy: undefined,
  labels: { 'deployment-tool': 'cli-firebase' },
  httpsTrigger: {} } 
 Tue Nov 28 2017 12:33:34 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:35.459Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:35.480Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:35.482Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:35 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:35.482Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:35 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:36.535Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:36.536Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:38.538Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:38 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:38.538Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:38 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:39.606Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:39.607Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:41.612Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:41 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:41.612Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:41 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:42.679Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:42.679Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:44.683Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:44 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:44.683Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:44 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:45.751Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:45.757Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:47.762Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:47 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:47.762Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:47 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:48.209Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:48.412Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:50.213Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:50 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:50.414Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:50 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:51.282Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:51.437Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:53.282Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:53 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:53.442Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:53 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:54.353Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:54.482Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:56.359Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:56 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:56.482Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:56 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:57.465Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:57.500Z] <<< HTTP RESPONSE 200
[debug] [2017-11-28T01:33:59.468Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9leGFtcGxlL2I1MGhCMlE5WWhn  
 Tue Nov 28 2017 12:33:59 GMT+1100 (AEDT)
[debug] [2017-11-28T01:33:59.500Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/ZmlyZXN0b3JlLXR5cGVzY3JpcHQtZXhhbXBsZS91cy1jZW50cmFsMS9uZXh0L3FGeHZfMlJ2ckVR  
 Tue Nov 28 2017 12:33:59 GMT+1100 (AEDT)
